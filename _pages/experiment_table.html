---
layout: archive
title: "GS Performance Table"
permalink: /experiment-table/
author_profile: true
redirect_from:
  - /resume
---

{% include base_path %}

<!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/github-markdown-css/5.5.1/github-markdown.min.css"> -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.4.1/papaparse.min.js"></script>

<div id="table-container" class="markdown-body"></div>

<script>
  const sheetUrl = 'https://docs.google.com/spreadsheets/d/e/2PACX-1vSgRb1CWKFvn_Yx-AJucuj9uEk9Xblfepoyr2qRcjG8m-mL7mCeNm78Pv0QuMTlVuf6rGFBaPF0bfdD/pub?gid=0&single=true&output=csv';
  
  const colMap = {
      'method': 'Method',
      'gpu': 'GPU',
      'downsampling': 'Downsampling',
      'psnr_30k_train': 'PSNR ↑',
      'ssim_30k_train': 'SSIM ↑',
      'lpips_30k_train': 'LPIPS ↓',
      'gs_number': '# Gaussians',
      'times': 'Time (hh:mm:ss)'
  };
  const siCols = ['gs_number'];
  const numericCols = ['psnr_30k_train', 'ssim_30k_train', 'lpips_30k_train'];
  const cols = Object.keys(colMap);
  
  function formatTime(secs) {
    if (!secs) return 'N/A';
    if (secs >= 3600) {
        return `${Math.floor(secs/3600)}h ${Math.floor((secs%3600)/60)}m ${Math.round(secs%60)}s`;
    }
    if (secs >= 60) {
        return `${Math.floor(secs/60)}m ${Math.round(secs%60)}s`;
    }
    return `${secs}s`;
  }

  function formatSI(val) {
    const num = parseFloat(val);
    if (isNaN(num)) return val || '';
    
    const prefixes = [
      { value: 1e12, symbol: 'T' },
      { value: 1e9,  symbol: 'G' },
      { value: 1e6,  symbol: 'M' },
      { value: 1e3,  symbol: 'K' },
      { value: 1,    symbol: '' },
      { value: 1e-3, symbol: 'm' },
      { value: 1e-6, symbol: 'μ' },
      { value: 1e-9, symbol: 'n' }
    ];
    
    const absNum = Math.abs(num);
    for (const p of prefixes) {
      if (absNum >= p.value) {
        const scaled = num / p.value;
        return parseFloat(scaled.toPrecision(3)) + p.symbol;
      }
    }
    return parseFloat(num.toPrecision(3)).toString();
  }
  
  function formatDecimal(val) {
    const num = parseFloat(val);
    if (isNaN(num)) return val || '';
    return num.toFixed(3);
  }

  function parseHMS(val) {
    const parts = String(val).split(':').map(Number);
    if (parts.length === 3) {
        return parts[0] * 3600 + parts[1] * 60 + parts[2];
    }
    if (parts.length === 2) {
        return parts[0] * 60 + parts[1];
    }
    return parseFloat(val) || 0;
  }

  Papa.parse(sheetUrl, {
      download: true,
      header: true,
      skipEmptyLines: true,
      complete: function(results) {
          const data = results.data;
          data.forEach(d => {
              d.times = formatTime(parseHMS(d.times));
          });

          let html = '<table><thead><tr>';
          cols.forEach(c => html += `<th>${colMap[c]}</th>`);
          html += '</tr></thead><tbody>';
          data.forEach(d => {
            html += '<tr>';
            cols.forEach(c => {
              let val = d[c] || '';
              if (siCols.includes(c) && val !== '') {
                val = formatSI(val);
              } else if (decimalCols.includes(c) && val !== '') {
                val = formatDecimal(val);
              }
              html += `<td>${val}</td>`;
            });
            html += '</tr>';
          });
          html += '</tbody></table>';
          
          document.getElementById('table-container').innerHTML = html;
      }
  });
</script>